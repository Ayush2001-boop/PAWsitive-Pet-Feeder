"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetPassword=exports.forgetPassword=exports.verify=exports.updatePassword=exports.register=exports.logout=exports.updateProfile=exports.deleteTask=exports.updateTask=exports.addTask=exports.removePet=exports.sendPets=exports.updatePet=exports.updateIp=exports.loadUser=exports.login=void 0;var _axios=_interopRequireDefault(require("axios"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var serverUrl="https://meow-meow-feeder.herokuapp.com/api/v1",login=function(s,n){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"loginRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.post("".concat(serverUrl,"/login"),{email:s,password:n},{headers:{"Content-Type":"application/json"}}));case 4:a=e.sent,r=a.data,console.log(r),t({type:"loginSuccess",payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"loginFailure",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},null,null,[[0,10]])}};exports.login=login;var loadUser=function(){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"loadUserRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.get("".concat(serverUrl,"/me")));case 4:a=e.sent,r=a.data,t({type:"loadUserSuccess",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"loadUserFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.loadUser=loadUser;var updateIp=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"updateIpRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.post("".concat(serverUrl,"/updateIp"),{ip_address:s},{header:{"Content-Type":"application/json"}}));case 4:a=e.sent,r=a.data,t({type:"updateIpSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"updateIpRequest",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.updateIp=updateIp;var updatePet=function(c){return function(t){var a,r,s,n,o,p,u;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"updatePetRequest"}),a=c.petId,r=c.name,s=c.hour,n=c.minute,o=c.cup,e.next=5,regeneratorRuntime.awrap(_axios.default.put("".concat(serverUrl,"/Pet/").concat(a),{petId:a,name:r,hour:s,minute:n,cup:o},{headers:{"Content-Type":"application/json"}}));case 5:p=e.sent,u=p.data,t({type:"updatePetSuccess",payload:u.message}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"updatePetFailure",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},null,null,[[0,10]])}};exports.updatePet=updatePet;var sendPets=function(s,n){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"sendPetsRequest"}),console.log(n),console.log("Making api call to ".concat(s," with ").concat(n)),console.log("Send Pet request"),e.next=7,regeneratorRuntime.awrap(_axios.default.post("http://".concat(s,":3000/runPython"),{pets:n},{headers:{"Content-type":"application/json"}}));case 7:a=e.sent,r=a.data,console.log(r),t({type:"sendPetsSuccess",payload:r.message}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t({type:"sendPetsFailure",payload:e.t0.response.data.message});case 16:case"end":return e.stop()}},null,null,[[0,13]])}};exports.sendPets=sendPets;var removePet=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"removePetRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.delete("".concat(serverUrl,"/Pet/").concat(s)));case 4:a=e.sent,r=a.data,t({type:"removePetSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"removePetFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.removePet=removePet;var addTask=function(s,n){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"addTaskRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.post("".concat(serverUrl,"/newtask"),{title:s,description:n},{headers:{"Content-Type":"application/json"}}));case 4:a=e.sent,r=a.data,t({type:"addTaskSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"addTaskFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.addTask=addTask;var updateTask=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"updateTaskRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.get("".concat(serverUrl,"/task/").concat(s)));case 4:a=e.sent,r=a.data,t({type:"updateTaskSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"updateTaskFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.updateTask=updateTask;var deleteTask=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"deleteTaskRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.delete("".concat(serverUrl,"/task/").concat(s)));case 4:a=e.sent,r=a.data,t({type:"deleteTaskSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"deleteTaskFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.deleteTask=deleteTask;var updateProfile=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"updateProfileRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.put("".concat(serverUrl,"/updateprofile"),s,{headers:{"Content-Type":"multipart/form-data"}}));case 4:a=e.sent,r=a.data,t({type:"updateProfileSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"updateProfileFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.updateProfile=updateProfile;var logout=function(){return function(t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"logoutRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.get("".concat(serverUrl,"/logout")));case 4:t({type:"logoutSuccess"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"logoutFailure",payload:e.t0.response.data.message});case 10:case"end":return e.stop()}},null,null,[[0,7]])}};exports.logout=logout;var register=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"registerRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.post("".concat(serverUrl,"/register"),s,{headers:{"Content-Type":"multipart/form-data"}}));case 4:a=e.sent,r=a.data,t({type:"registerSuccess",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"registerFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.register=register;var updatePassword=function(s,n){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"updatePasswordRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.put("".concat(serverUrl,"/updatepassword"),{oldPassword:s,newPassword:n},{headers:{"Content-Type":"application/json"}}));case 4:a=e.sent,r=a.data,t({type:"updatePasswordSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"updatePasswordFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.updatePassword=updatePassword;var verify=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"verificationRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.post("".concat(serverUrl,"/verify"),{otp:s},{headers:{"Content-Type":"application/json"}}));case 4:a=e.sent,r=a.data,t({type:"verificationSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"verificationFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.verify=verify;var forgetPassword=function(s){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"forgetPasswordRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.post("".concat(serverUrl,"/forgetpassword"),{email:s},{headers:{"Content-Type":"application/json"}}));case 4:a=e.sent,r=a.data,t({type:"forgetPasswordSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"forgetPasswordFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.forgetPassword=forgetPassword;var resetPassword=function(s,n){return function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"resetPasswordRequest"}),e.next=4,regeneratorRuntime.awrap(_axios.default.put("".concat(serverUrl,"/resetpassword"),{otp:s,newPassword:n},{headers:{"Content-Type":"application/json"}}));case 4:a=e.sent,r=a.data,t({type:"resetPasswordSuccess",payload:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"resetPasswordFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},null,null,[[0,9]])}};exports.resetPassword=resetPassword;
//# sourceMappingURL=action.min.js.map
